---
title: SNI与TLS
date: 2025-07-25 21:25:02
permalink: /iot/sni
categories:
  - 设备接入
tags:
  - 设备接入
---

# 何为SNI

::: tip

- 传统TCP设备连接需为每个产品分配独立IP+端口，导致IP资源浪费、端口管理复杂

- SNI可以让所有设备通过​​同一端口（如38880）接入​​，通过分配不同子域名来区分产品（#{productKey}.iot.192886.xyz）。你只需准备一个通配符的域名和证书

- 设备在TLS握手时，通过SNI扩展字段发送自身域名（如 abc123.iot.192886.xyz），明确告知服务器“我是谁”

- 降低成本​​：无需为每个产品购买独立IP，减少IPv4资源消耗。
  ​- ​简化运维​​：统一端口管理，证书更新仅需关联域名，无需调整网络配置。
  ​- ​无缝扩展​​：新增产品只需分配新域名，无需改动平台架构。

:::

## 如何使用

暂时不知道，我没有环境，模拟器验证效果基本一致

本平台推荐用SNI，省的开多个端口浪费资源

## 可以集群吗？

平台中天然集成集群，只要关闭只开启TCP的开关，外层挂一个负载均衡即可
