---
title: 04.数据调试
date: 2025-03-05 21:25:02
permalink: /iot/tcp/debug
categories:
  - 设备接入
tags:
  - 设备接入
---

# 主要步骤

::: tip

- 1.开启了主动注册，或先手动添加设备，否则设备消息会被丢弃
- 2.选择正确的解码数据格式上报
- 3.看数据情况
- 4.验证功能
  :::

## 1、开始数据上报

### Mac调试工具

我使用的一款`TcpIpDebug`，有支持`HEX`16进制、`ASCII`和`UTF8` ,前面我们配置过使用的HEX16进制.

![03duanyun](/02/connected/debug/03duanyun.png "03duanyun")

::: warning 🚧

- 请仔细核查设备数据传输格式!!!选错会数据无法解析
- 但是为了大家有理解，其他数据格式的发送我也试一下
  :::

![03tools](/02/connected/debug/03tools.png "03tools")

![03data](/02/connected/debug/03data.png "03data")

## 2、注册成功，设备列表没有？

这会你会发现设备列表没有？别慌！超级管理账号能看到！你只需在设备列表选择`归属产品`->`新增设备`，归属权就会划给你！

::: tip

- 因为主动注册是系统先帮你注册，避免平台的安全策略问题，不断丢弃消息，导致设备一直重连，耗光流量。

  :::

## 3、看到了吧？

![03dev](/02/connected/debug/03dev.png "03dev")

![03devgs](/02/connected/debug/03devgs.png "03devgs")

## 4、试一下属性、功能调用

### 属性有了

![03uppro](/02/connected/debug/03uppro.png "03uppro")

### 日志有了

![03devlog](/02/connected/debug/03devlog.png "03devlog")

### 试一下指令

![03fun](/02/connected/debug/03fun.png "03fun")

## 5、让AI多准备几条报文

以下是不同设备、不同场景的完整报文（无换行，严格遵循 16 进制格式）：

```text

1、设备 0002，开关打开，电流 10.00A、电压 250.0V、功率 1500W：

A5A5000201070103E809C405DC5A5A

2、设备 0002，开关关闭，无用电数据：

A5A500020107000000000000005A5A

3、设备 0003，过载报警（功率 2000W）：

A5A5000302030107D05A5A

4、设备 0003，上线事件：

A5A5000302030300005A5A

5、平台向设备 0004 下发 “关闭开关” 指令：

A5A50004030201005A5A

6、设备 0004，响应指令执行失败：

A5A500040401015A5A

7、设备 0005，开关打开，电流 40.00A、电压 228.8V、功率 4000W：

A5A500050107010FA008F00F405A5A

8、设备 0005，下线事件：

A5A5000502030400005A5A

```
